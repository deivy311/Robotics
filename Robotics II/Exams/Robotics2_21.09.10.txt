Robotics 2
September 10, 2021
Exercise #1
Consider the planar 3R robot in Fig. 1. The three links have all equal length L. The robot
is controlled by a joint acceleration command u = qÌˆ âˆˆ R3 . The input commands are bounded
componentwise as |ui | â‰¤ Umax,i , for i = 1, 2, 3. Moreover, let p = f (q) âˆˆ R2 be the end-effector
position. At a given instant t = t0 , the robot is in a generic state (q(t0 ), qÌ‡(t0 )) = (q 0 , qÌ‡ 0 ) âˆˆ R6 , with
qÌ‡ 0 6âˆˆ N {J (q 0 )}. Which feasible command u0 = u(t0 ) would you apply to stop as fast as possible
the Cartesian motion of the end-effector, while keeping its velocity aligned with the direction of
pÌ‡0 = pÌ‡(t0 ) 6= 0? If there are multiple feasible solutions, provide the one having minimum norm.
Illustrate your findings with a numerical example, providing the values of q 0 , qÌ‡ 0 , u0 , and of the
resulting acceleration pÌˆ0 = pÌˆ(t0 ).

q3

y0
L

q2

L

P

L

q1
x0

Figure 1: A planar 3R robot.
Exercise #2
For the same robot in Fig. 1, assume that the three links of equal length L = 0.5 [m] are all modeled
as thin rods with a uniformly distributed mass of m = 5 [kg]. Provide the eigenvalues of the 2 Ã— 2
Cartesian inertia matrix M p , when the robot is in the regular configuration q âˆ— = (Ï€/2, Ï€/2, 0).
Hint: Use an equivalent expression for the Cartesian inertia matrix M p = J âˆ’T M J âˆ’1 that applies
both to square and non-square Jacobians under the same full rank assumption.
Exercise #3
The end-effector of a 2-dof Cartesian robot with different link masses m1 and m2 moves in a vertical
plane (x, y) making contact with an environment. There is no force/torque sensor mounted on
the robot. Design an impedance control law that shapes the response between interacting forces
and tracking errors by assigning the same two real, negative and coincident eigenvalues (i.e., in
âˆ’Î» < 0) to the closed-loop linear dynamics along the two decoupled directions x and y.
[180 minutes (3 hours); open books]

1

Solution
September 10, 2021
Exercise #1
The second-order differential kinematics of a robot with n joints performing a m-dimensional task
(with m â‰¤ n) is
pÌˆ = J (q)qÌˆ + JÌ‡ (q)qÌ‡ = J (q)u + h(q, qÌ‡),
(1)
with vector h âˆˆ Rm being quadratic in qÌ‡. The joint acceleration qÌˆ âˆˆ Rn is taken as the input
command u.
At time t = t0 , the task velocity is pÌ‡0 = pÌ‡(t0 ) = J (q(t0 )) qÌ‡(t0 ) = J 0 qÌ‡ 0 , which is necessarily
different from zero since one should choose a qÌ‡ 0 6âˆˆ N {J 0 }. We impose to the end-effector an
acceleration pÌˆ0 (actually, a deceleration) that is aligned with pÌ‡0 and whose components are opposite
in sign to the associated velocity components. Therefore, we set
pÌˆ0 = âˆ’Î» pÌ‡0 = âˆ’Î» J 0 qÌ‡ 0 ,

with Î» â‰¥ 0,

and choose the largest possible (non-negative) value for the scalar Î» such that the minimum norm
joint acceleration solution u0 to (1) is feasible. It is then
#
#
u0 = J #
0 (pÌˆ0 âˆ’ h0 ) = âˆ’Î» J 0 J 0 qÌ‡ 0 âˆ’ J 0 JÌ‡ 0 qÌ‡ 0 .

(2)

Define now the two n-dimensional vectors1
a = âˆ’J #
0 J 0 qÌ‡ 0 ,

b = âˆ’J #
0 JÌ‡ 0 qÌ‡ 0 ,

(3)

and organize the bounds on the commands in vector form as
ï£«
ï£¶
Umax,1
ï£¬ Umax,2 ï£·
ï£¬
ï£·
U max = ï£¬
ï£·.
..
ï£­
ï£¸
.
Umax,n
The problem is formulated as a simple linear program (LP) as follows:
max Î»

s.t.

âˆ’ U max â‰¤ a Î» + b â‰¤ U max ,

Î» â‰¥ 0,

(4)

where vector inequalities are to be considered component-wise. Note first that a 6= 0 (although
some of its components may possibly vanish). In fact, pÌ‡0 = J 0 qÌ‡ 0 6= 0 is a realizable velocity, as
generated by qÌ‡ 0 6= 0; thus, the pseudoinverse of such task velocity cannot produce a zero joint
velocity. The feasible set may be empty, in which case no instantaneous acceleration solution
exists. Moreover, if the optimal value of problem (4) is Î» = 0, the end-effector will not be able to
instantaneously decelerate; the problem has again no actual solution at t = t0 . Nonetheless, it is
convenient to keep the value Î» = 0 in the feasible set, so as to guarantee the existence of a solution
to problem (4) whenever its (closed) feasible set is non-empty.
1 One can also define the two vectors a and b with a positive sign in front. Being the bounds on the command
u symmetric, the linear inequalities in (4) would remain the same.

2

The optimal solution Î»âˆ— to (4) is easily found. For i = 1, . . . , n, let
ï£±
âˆ’âˆ
if bi < âˆ’Umax,i and ai â‰¤ 0,
ï£´
ï£´
ï£´
ï£´
ï£´
ï£´
Umax,i âˆ’ bi
ï£´
ï£´
if bi < âˆ’Umax,i and ai > 0,
ï£´
ï£´
ï£´
ai
ï£´


ï£´
ï£´
ï£´
ï£´ max âˆ’ Umax,i + bi , Umax,i âˆ’ bi
ï£²
if Umax,i â‰¤ bi â‰¤ Umax,i and ai =
6 0,
ai
ai
Î»i =
ï£´
ï£´
ï£´
ï£´
+âˆ
if Umax,i â‰¤ bi â‰¤ Umax,i and ai = 0,
ï£´
ï£´
ï£´
ï£´
ï£´
ï£´
Umax,i + bi
ï£´
ï£´
âˆ’
if bi > Umax,i and ai < 0,
ï£´
ï£´
ai
ï£´
ï£´
ï£³
âˆ’âˆ
if bi > Umax,i and ai â‰¥ 0.

(5)

We compute then
Î»âˆ— = min Î»i ,

(6)

i=1,...,n

with the following conclusions:
Î»âˆ— > 0

â‡’ Î»âˆ— is the optimal solution, with a feasible acceleration uâˆ—0 = aÎ»âˆ— + b;

Î»âˆ— = 0

â‡’ the resulting joint acceleration is u0 = âˆ’J #
0 JÌ‡ 0 qÌ‡ 0 , yielding pÌˆ0 = 0;

Î»âˆ— = âˆ’âˆ

â‡’ there is no solution to the problem (the feasible set is empty).

In the optimal solution uâˆ—0 , at least one joint acceleration will saturate one of its bounds. When
Î»âˆ— = 0, the end-effector will keep instantaneously the same velocity pÌ‡0 , with no deceleration. When
there is no solution to the problem, the end-effector will no longer be able to move exactly along
the direction of pÌ‡0 (in either way). Some of the various possible situations for a generic single
component Î»i are illustrated in Fig. 2. Figure 3 shows geometrically some resulting cases for uâˆ—0
with n = 2 components (thus, when m = 1).
ğœ†" = âˆ’âˆ

ai â‰¤ 0

ğœ†" =

ai > 0

$%&',) *+)
,)

>0

ui
bi

â€“ Umax,i

0

Umax,i
ai = 0
â‡’ ğœ†" = +âˆ

ğœ†" = âˆ’

$%&',) 3+)
,)

>0

ai < 0

ai > 0

ğœ†" =

$%&',) *+)
,)

>0

ui
â€“ Umax,i

ğœ†" = âˆ’

$%&',) 3+)
,)

0

bi

Umax,i
ai = 0
â‡’ ğœ†" = +âˆ
ai < 0
ai > 0

>0

ğœ†" = 0

ui
â€“ Umax,i

0

bi = Umax,i

Figure 2: Examples of evaluation of Î»i for a generic single component.

3

u2
Umax,2
u0*

b

a
b

a
(with a1 = 0, a2 < 0)

Umax,1

â€“ Umax,1

u1

0

b
a
a
no solution!

b

u0*

â€“ Umax,2

u0*

Figure 3: Examples of existence or not of a solution uâˆ—0 and its geometrical evaluation when n = 2.
For the planar 3R robot of Fig. 1, we have n = 3, m = 2, and the terms in (1) are the 2 Ã— 3 task
Jacobian


âˆ’ (s1 + s12 + s123 ) âˆ’ (s12 + s123 ) âˆ’s123
âˆ‚f (q)
J (q) =
=L
,
(7)
âˆ‚q
c1 + c12 + c123
c12 + c123
c123
its time derivative
JÌ‡ (q) = âˆ’L Â·


c1 qÌ‡1 + c12 (qÌ‡1 + qÌ‡2 ) + c123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )

c12 (qÌ‡1 + qÌ‡2 ) + c123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )

c123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )

s1 qÌ‡1 + s12 (qÌ‡1 + qÌ‡2 ) + s123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )

s12 (qÌ‡1 + qÌ‡2 ) + s123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )

s123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )


,

and the product of matrix JÌ‡ by the joint velocity qÌ‡


(c1 + c12 + c123 ) qÌ‡12 + 2 (c12 + c123 ) qÌ‡1 qÌ‡2 + 2 c123 qÌ‡1 qÌ‡3 + (c12 + c123 ) qÌ‡22 + 2 c123 qÌ‡2 qÌ‡3 + c123 qÌ‡32
h(q, qÌ‡) = âˆ’L
,
2
2
2
(s1 + s12 + s123 ) qÌ‡1 + 2 (s12 + s123 ) qÌ‡1 qÌ‡2 + 2 s123 qÌ‡1 qÌ‡3 + (s12 + s123 ) qÌ‡2 + 2 s123 qÌ‡2 qÌ‡3 + s123 qÌ‡3

having used the shorthand notation for trigonometric functions (e.g., c123 = cos(q1 + q2 + q3 )).
As a first numerical example, set L = 1 [m] for the
ï£«
ï£¶ ï£«
15 Ï€
ï£¬
ï£· ï£¬
U max = ï£­ 10 Ï€ ï£¸ = ï£­
10 Ï€

link lengths and choose
ï£¶
47.1239
ï£·
31.4159 ï£¸ [rad/s2 ]
31.4159

as values for the (symmetric) bounds for the acceleration commands. At time t = t0 , consider the
robot state2
ï£«
ï£¶
ï£« ï£¶
0
Ï€
ï£¬
ï£·
ï£¬ ï£·
q 0 = ï£­ Ï€/2 ï£¸ [rad],
qÌ‡ 0 = ï£­ Ï€ ï£¸ [rad/s].
Ï€/2
0
2 All these data are the same used in the first exercise of the exam of July 12, 2021. For the sake of illustration,
we provide hereafter also two other examples.

4

We compute then from the previous formulas


âˆ’1 âˆ’1 0
,
J0 =
0
1 1


pÌ‡0 = J 0 qÌ‡ 0 =

âˆ’2 Ï€
Ï€


[m/s]

and

JÌ‡ 0 =

Ï€
âˆ’2 Ï€

2Ï€
âˆ’2 Ï€

2Ï€
0




,

h0 = JÌ‡ 0 qÌ‡ 0 =

3 Ï€2
âˆ’4 Ï€ 2




=

29.6088
âˆ’39.4784



[m/s2 ].

The pseudoinverse of the task Jacobian is
ï£«



T
T
J#
0 = J 0 J 0J 0

Therefore, from (3) we obtain
ï£«

ï£¶
âˆ’Ï€
ï£¬
ï£·
a = âˆ’J #
0 pÌ‡0 = ï£­ âˆ’Ï€ ï£¸ ,
0

âˆ’1

âˆ’2/3
ï£¬
= ï£­ âˆ’1/3
1/3

ï£¶
âˆ’1/3
ï£·
1/3 ï£¸ .
2/3

ï£«

ï£¶ ï£«
ï£¶
2 Ï€ 2 /3
6.5797
ï£¬
ï£· ï£¬
ï£·
2
b = âˆ’J #
0 h0 = ï£­ 7 Ï€ /3 ï£¸ = ï£­ 23.0291 ï£¸ .
5 Ï€ 2 /3
16.4493

None of the components of vector b (related to the Cartesian drift acceleration h0 ) is outside the
acceleration bounds specified by U max . As a result, according to the law (5â€“6), an optimal solution
certainly exists and is given by
ï£¶
ï£«


âˆ’47.1239
107.4073
ï£·
ï£¬
âˆ—
âˆ—
2
âˆ’1
[m/s2 ].
Î» = 17.0944 [s ] â‡’ u0 = ï£­ âˆ’30.6745 ï£¸ [rad/s ] â‡’ pÌˆ0 =
âˆ’53.7036
16.4493
As expected, there is at least a component of uâˆ—0 that is saturated (only the first one, at its negative
lower bound). The obtained task acceleration is pÌˆ0 = âˆ’Î»âˆ— pÌ‡0 , as expected.
To verify further the method, consider now a joint velocity at time t = t0 which is 30% higher than
before, namely
ï£¶
ï£« ï£¶ ï£«
4.0841
Ï€
ï£·
ï£¬ ï£· ï£¬
qÌ‡ 0 = 1.3 Â· ï£­ Ï€ ï£¸ = ï£­ 4.0841 ï£¸ [rad/s],
0
0
all the rest being the same. The changed terms are



âˆ’8.1681
4.0841
8.1681
pÌ‡0 =
[m/s], JÌ‡ 0 =
4.0841
âˆ’8.1681 âˆ’8.1681
and thus

ï£«

ï£¶
âˆ’4.0841
ï£¬
ï£·
a = ï£­ âˆ’4.0841 ï£¸ ,
0

8.1681
0




,

h0 =

50.0389
âˆ’66.7185



[m/s2 ],

ï£«

ï£¶
11.1198
ï£¬
ï£·
b = ï£­ 38.9191 ï£¸ .
27.7994

The second component b2 of vector b exceeds now the upper bound Umax,2 = 31.4159 [rad/s2 ].
However, a2 < 0 and thus an optimal solution exists. According to the law (5â€“6), we obtain
ï£«
ï£¶
âˆ’47.1239


116.4873
ï£¬
ï£·
âˆ—
âˆ—
âˆ’1
2
Î» = 14.2612 [s ] â‡’ u0 = ï£­ âˆ’19.3245 ï£¸ [rad/s ] â‡’ pÌˆ0 =
[m/s2 ].
âˆ’58.2436
27.7994
5

As before, the first component of uâˆ—0 is saturated at its negative lower bound. Despite the norm
of the Cartesian acceleration pÌˆ0 is now larger than before, the rate of decrease of the Cartesian
velocity is indeed slower because the optimal Î»âˆ— is smaller. In fact, it is immediate to see that
pÌˆ = âˆ’Î» pÌ‡

â‡’

pÌ‡(t) = eâˆ’Î»(tâˆ’t0 ) pÌ‡(t0 ) ' (1 âˆ’ Î» dt) pÌ‡0

pÌ‡(t) âˆ’ pÌ‡0
' âˆ’Î» pÌ‡0 ,
dt

â‡’

for a sufficiently small dt = t âˆ’ t0 > 0.
As a last example, we increase further the joint velocity at time t = t0 by 50% of the initial value,
namely
ï£« ï£¶ ï£«
ï£¶
Ï€
4.7124
ï£¬ ï£· ï£¬
ï£·
qÌ‡ 0 = 1.5 Â· ï£­ Ï€ ï£¸ = ï£­ 4.7124 ï£¸ [rad/s],
0
0
all the rest being again the same. The changed terms are now




âˆ’9.4248
4.7124
9.4248 9.4248
pÌ‡0 =
[m/s], JÌ‡ 0 =
,
4.7124
âˆ’9.4248 âˆ’9.4248
0
and


h0 =

66.6198
âˆ’88.8264



[m/s2 ],

ï£¶
14.8044
ï£·
ï£¬
b = ï£­ 51.8154 ï£¸ .
37.0110
ï£«

ï£¶
âˆ’4.7124
ï£·
ï£¬
a = ï£­ âˆ’4.7124 ï£¸ ,
0
ï£«

The second and third components of b exceed their upper bounds Umax,2 = Umax,3 = 31.4159 [rad/s2 ].
However, since a3 = 0, no solution exists in this case. In fact, according to the law (5â€“6), it is
Î»1 = 13.1416,

Î»2 = 17.6622,

but Î»3 = âˆ’âˆ

â‡’

Î»âˆ— = âˆ’âˆ.

Exercise #2
Note first that the m Ã— m Cartesian inertia matrix of a robot with a m Ã— n Jacobian J (q) that
has full rank m can always be written as3

âˆ’1
M p (q) = J (q)M âˆ’1 (q)J T(q)
,
(8)
where M (q) > 0 is the n Ã— n inertia matrix in the configuration space. The derivation of (8) for
the case m < n (redundant robot) with a full rank Jacobian is simple. Let the robot dynamics in
joint space be
M (q)qÌˆ + c(q, qÌ‡) + g(q) = Ï„ ,
(9)
and the second-order differential kinematics to the Cartesian space be
pÌˆ = J (q)qÌˆ + JÌ‡ (q)qÌ‡.

(10)

Extracting qÌˆ from (9), using the transformation of generalized forces Ï„ = J T(q)F , and substituting
in (10) yields


pÌˆ = J (q)M âˆ’1 (q) J T(q)F âˆ’ c(q, qÌ‡) âˆ’ g(q) + JÌ‡ (q)qÌ‡




= J (q)M âˆ’1 (q)J T(q) F âˆ’ J (q)M âˆ’1 (q) c(q, qÌ‡) + g(q) + JÌ‡ (q)qÌ‡
3 The expression (8) appears also in the lecture slides on robot redundancy (block 2, part 2, p. 10) and on collision
detection and reaction (block 19, p. 40).

6

or
M p (q)pÌˆ + cp (q, qÌ‡) + g p (q) = F ,
with M p (q) as in (8) and


cp (q, qÌ‡) = M p (q) J (q)M âˆ’1 (q) c(q, qÌ‡) âˆ’ JÌ‡ (q)qÌ‡ ,

(11)

g p (q) = M p (q)J (q)M âˆ’1 (q) g(q).

Indeed, the dynamic description (11) is incomplete when m < n and should be complemented
by additional n âˆ’ m dynamic equations (e.g., judiciously extracted from the original complete
dynamics (9) in the joint space). On the other hand, when the Jacobian is square (m = n) and
nonsingular, the terms in the (now complete) Cartesian dynamic model (11) simplify to
M p (q) = J âˆ’T(q)M (q)J âˆ’1 (q)
and
cp (q, qÌ‡) = J âˆ’T(q) c(q, qÌ‡) âˆ’ M p (q)JÌ‡ (q)qÌ‡,

g p (q) = J âˆ’T(q) g(q).

The Jacobian of the planar 3R robot in Fig. 1 is given by (7). The inertia matrix M (q) is extracted
from the kinetic energy of the three links of the robot. Under the assumption of equal uniform
thin rods, the center of mass of each link is at dci = L/2 on its kinematic axis and the barycentral
inertia (around the axis normal to the plane) equals Ii = (1/12) mL2 . For the first link, we have
then
!
 2

1
L
1
1 mL2 2
1
md2c1 + I1 qÌ‡12 =
m
+
mL2 qÌ‡12 =
qÌ‡ .
T1 =
2
2
2
12
2 3 1
For the second link, we have
ï£«
ï£¶
1
c1 + c12
ï£¬
ï£·
2
pc2 = L ï£­
ï£¸
1
s1 + s12
2

ï£¶
1
s12 (qÌ‡1 + qÌ‡2 )
ï£¬
ï£·
2
= Lï£­
ï£¸,
1
c1 qÌ‡1 + c12 (qÌ‡1 + qÌ‡2 )
2
ï£«

â‡’

v c2 = pÌ‡c2

âˆ’s1 qÌ‡1 âˆ’

and thus

1
2
2
m kv c2 k + I2 (qÌ‡1 + qÌ‡2 )
2




1
1
1
2
2
2
2
2
=
mL qÌ‡1 + (qÌ‡1 + qÌ‡2 ) + c2 qÌ‡1 (qÌ‡1 + qÌ‡2 ) +
mL (qÌ‡1 + qÌ‡2 )
2
4
12





1
4
2
1
= mL2
+ c2 qÌ‡12 +
+ c2 qÌ‡1 qÌ‡2 + qÌ‡22 .
2
3
3
3

T2 =

Finally, for the third link
ï£¶
1
c1 + c12 + c123
ï£¬
ï£·
2
= Lï£­
ï£¸
1
s1 + s12 + s123
2
ï£«

pc3

â‡’

v c3



1
âˆ’ s1 qÌ‡1 + s12 (qÌ‡1 + qÌ‡2 ) + s123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )
ï£¬
2
= Lï£­
1
c1 qÌ‡1 + c12 (qÌ‡1 + qÌ‡2 ) + c123 (qÌ‡1 + qÌ‡2 + qÌ‡3 )
2
ï£«

7

ï£¶
ï£·
ï£¸,

and so

1
2
2
m kv c3 k + I3 (qÌ‡1 + qÌ‡2 + qÌ‡3 )
2


1
1
2
2
2
=
mL qÌ‡12 + (qÌ‡1 + qÌ‡2 ) + (qÌ‡1 + qÌ‡2 + qÌ‡3 ) + 2 c2 qÌ‡1 (qÌ‡1 + qÌ‡2 )
2
4


1
2
+ c23 qÌ‡1 (qÌ‡1 + qÌ‡2 + qÌ‡3 ) + c3 (qÌ‡1 + qÌ‡2 ) (qÌ‡1 + qÌ‡2 + qÌ‡3 ) +
mL2 (qÌ‡1 + qÌ‡2 + qÌ‡3 )
.
12






1
7
8
2
= mL2
+ 2 c2 + c23 + c3 qÌ‡12 +
+ 2 c2 + c23 + 2c3 qÌ‡1 qÌ‡2 +
+ c23 + c3 qÌ‡1 qÌ‡3
2
3
3
3





2
1
4
+ c3 qÌ‡22 +
+ c3 qÌ‡2 qÌ‡3 + qÌ‡32 .
+
3
3
3

T3 =

Therefore, from
T = T1 + T2 + T3 =

1 T
qÌ‡ M (q)qÌ‡
2

we obtain
ï£«

4 + 3 c2 + c23 + c3

1
5 3
+ c2 + c23 + c3
3 2
2

..
.

5
+ c3
3

symm

Â·Â·Â·

ï£¬
ï£¬
ï£¬
2ï£¬
M (q) = mL ï£¬
ï£¬
ï£­

ï£¶
1 1
1
+ c23 + c3
ï£·
3 2
2
ï£·
ï£·
1 1
ï£·.
+ c3
ï£·
3 2
ï£·
ï£¸
1
3

(12)

Since L = 0.5 [m] and mL2 = 5Â·0.52 = 1.25 [kgm2 ], evaluating eqs. (7) and (12) at the configuration
q âˆ— = (Ï€/2, Ï€/2, 0) gives:


âˆ’0.5 0
0
âˆ—
J = J (q ) =
,
âˆ’1 âˆ’1 âˆ’0.5
ï£« 25 10 25 ï£¶
ï£¶
ï£«
ï£¬ 4
3 24 ï£·
6.25 3.3333 1.0417
ï£¬
ï£·
ï£¬ 10 10 25 ï£· ï£¬
ï£·
M = M (q âˆ— ) = ï£¬
ï£· ' ï£­ 3.3333 3.3333 1.0417 ï£¸ .
ï£·
ï£¬ 3
3 24
ï£­
ï£¸
1.0417 1.0417 0.4167
25 25 5
24

24

12

The Cartesian inertia matrix in (8) is
âˆ—

35/3

0

!


'

M p = M p (q ) =
0

35/24

11.6667
0

0
1.4583


.

Its two eigenvalues are then
Î»1 = 11.6667,

Î»2 = 1.4583.

Note that the Cartesian inertia is fully decoupled in the configuration q âˆ— . This is by no means the
generic case, although the matrix M p (q) is always symmetric, and also positive definite as long as
the Jacobian is full rank (its eigenvalues are always real, and strictly positive outside singularities).

8

Exercise #3
With reference to Fig. 4, the dynamic model of the 2-dof Cartesian robot in contact with a generic
environment is
M qÌˆ + g = Ï„ + F ,
(13)
with

M=

m1 + m2
0

0
m2




,

g=

0
m2 g0




,

Ï„ =

Ï„1
Ï„2




,

F =

Fx
Fy


,

where Ï„ âˆˆ R2 is the control input force at the prismatic joints and F âˆˆ R2 is the contact force
exerted from the environment on the robot end effector.

y0

g0

m2

F

âŠ•

q2
q1
x0

âŠ•

ğœ#

m1

ğœ$

Figure 4: A 2-dof Cartesian robot making contact with an environment.
The desired linear and decoupled impedance model is
M d eÌˆ + D d eÌ‡ + K d e = F ,
where


e = p âˆ’ pd ,

p=

x
y




=

(14)
q1
q2


,

with pd âˆˆ R2 being the desired position of the robot end effector, and





Mdx
0
Ddx
0
Kdx
Md =
> 0,
Dd =
> 0,
Kd =
0
Mdy
0
Ddy
0

0
Kdy


> 0.

Since there is no force/torque sensor available, we have to choose necessarily the actual (Cartesian)
inertia as desired (apparent) inertia:
Md = M

â‡â‡’

Mdx = m1 + m2 ,

Mdy = m2 .

(15)

From (13) and (14), with (15), the required control law is
Ï„ = M pÌˆd + g âˆ’ D d eÌ‡ âˆ’ K d e

 
 

(m1 + m2 ) xÌˆd
0
Ddx (xÌ‡d âˆ’ xÌ‡) + Kdx (xd âˆ’ x)
=
+
+
,
m2 yÌˆd
m2 g0
Ddy (yÌ‡d âˆ’ yÌ‡) + Kdy (yd âˆ’ y)
9

(16)

which has the standard form of a PD action with a feedforward acceleration term (if pÌˆd 6= 0)
and gravity cancellation. For the choice of the gains, we rewrite the impedance model (14), using
again (15), in the Laplace domain,

M s2 + D d s + K d e(s) = F (s),
and impose the desired dynamic characteristics between F (s) and e(s) in each Cartesian direction:
! 

2

(s + Î»)
0
s2 + 2Î»s + Î»2
0
âˆ’1
âˆ’1
2
Is + M D d s + M K d =
=
.
2
0
s2 + 2Î»s + Î»2
0
(s + Î»)
As a result,
Kdx = (m1 + m2 ) Î»2 ,

Ddx = 2 (m1 + m2 ) Î»,
and

Kdy = m2 Î»2 .

Ddy = 2m2 Î»,

âˆ—âˆ—âˆ—âˆ—âˆ—

10

