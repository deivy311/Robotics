Robotics 2

Dynamic model of robots:
Lagrangian approach
Prof. Alessandro De Luca

Dynamic model
n

provides the relation between
generalized forces ğ‘¢(ğ‘¡) acting on the robot
robot motion, i.e.,
assumed configurations ğ‘(ğ‘¡) over time
ğ‘¢ğ‘—ğ‘œğ‘–ğ‘›ğ‘¡ğ‘ (ğ‘¡)

ğ‘¢ğ¶ğ‘ğ‘Ÿğ‘¡ğ‘’ğ‘ ğ‘–ğ‘ğ‘›(ğ‘¡)
ğ‘(ğ‘¡)

Robotics 2

a system of 2nd order
differential equations

ğ›· ğ‘, ğ‘,Ì‡ ğ‘Ìˆ = ğ‘¢
2

Direct dynamics
n

direct relation
ğ‘<
ğ‘ ğ‘¡ = â‹®
ğ‘>

ğ‘¢<
ğ‘¢ ğ‘¡ = â‹®
ğ‘¢>
input for ğ‘¡ âˆˆ [0, ğ‘‡]

ğ‘ 0 , ğ‘(0)
Ì‡

resulting motion

initial state at ğ‘¡ = 0
n

n

experimental solution
n apply torques/forces with motors and measure joint variables
with encoders (with sampling time ğ‘‡9 )

ğ›· ğ‘, ğ‘,Ì‡ ğ‘Ìˆ = ğ‘¢
solution by simulation
n use dynamic model and integrate numerically the differential
equations (with simulation step ğ‘‡: â‰¤ ğ‘‡9 )

Robotics 2

3

Inverse dynamics
n

inverse relation

ğ‘I ğ‘¡ , ğ‘Ì‡ I ğ‘¡ , ğ‘Ìˆ I (ğ‘¡)
desired motion
for ğ‘¡ âˆˆ [0, ğ‘‡]
n

ğ‘¢I (ğ‘¡)
required input
for ğ‘¡ âˆˆ [0, ğ‘‡]

experimental solution
n repeated motion trials of direct dynamics using ğ‘¢? (ğ‘¡), with
iterative learning of nominal torques updated on trial ğ‘˜ + 1
based on the error in [0, ğ‘‡] measured in trial ğ‘˜: lim ğ‘¢? (ğ‘¡) â‡’ ğ‘¢I (ğ‘¡)
?â†’G

n

ğ›· ğ‘, ğ‘,Ì‡ ğ‘Ìˆ = ğ‘¢
analytic solution
n use dynamic model and compute algebraically the values ğ‘¢I (ğ‘¡) at
every time instant ğ‘¡

Robotics 2

4

Approaches to dynamic modeling
Euler-Lagrange method
(energy-based approach)
n

n

dynamic equations in
symbolic/closed form
best for study of dynamic
properties and analysis of
control schemes

Newton-Euler method
(balance of forces/torques)
n

n

dynamic equations in
numeric/recursive form
best for implementation of
control schemes (inverse
dynamics in real time)

Â§ many other formal methods based on basic principles in mechanics
are available for the derivation of the robot dynamic model:
Â§ principle of dâ€™Alembert, of Hamilton, of virtual works, â€¦
Robotics 2

5

Euler-Lagrange method
(energy-based approach)

basic assumption: the ğ‘ links in motion are considered as rigid bodies
(+ later on, include also concentrated elasticity at the joints)

ğ‘ âˆˆ â„> generalized coordinates (e.g., joint variables, but not only!)
Lagrangian ğ¿ ğ‘, ğ‘Ì‡ = ğ‘‡ ğ‘, ğ‘Ì‡ âˆ’ ğ‘ˆ(ğ‘)
kinetic energy â€“ potential energy
Â§ principle of least action of Hamilton
Â§ principle of virtual works

Euler-Lagrange
equations

Robotics 2

ğ‘‘ ğœ•ğ¿
ğœ•ğ¿
âˆ’
= ğ‘¢R
ğ‘‘ğ‘¡ ğœ• ğ‘Ì‡ R ğœ•ğ‘R

ğ‘– = 1, â€¦ , ğ‘

non-conservative (external or dissipative)
generalized forces performing work on ğ‘R

6

Dynamics of an actuated pendulum
a first example

ğ‘ğ‘š

viscous friction
ğ‘›X â‰¥ 1

ğ‘W

ğ‘‘
ğ‘š

ğœ, ğœƒ
ğ¼ğ‘™

ğ‘šğ‘”[

ğœğ‘š , ğœƒğ‘š

motor
transmission

ğ‘™
ğ¹T

ğœ = ğ‘›X ğœ]

ğœƒ] = ğ‘›X ğœƒ + ğœƒ][
=0

ğ‘ = ğœƒ (or ğ‘ = ğœƒ] )

(with reduction gear)

kinetic energy
Robotics 2

ğ¼ğ‘š

ğœƒÌ‡] = ğ‘›X ğœƒÌ‡

ğ‘‡ = ğ‘‡] + ğ‘‡W

1
a
ğ‘‡] = ğ¼] ğœƒÌ‡]
2

motor inertia
(around its
spinning axis)

(â€¦ around the âˆ¥ axis
through its base)

1
ğ‘‡W = ğ¼W + ğ‘šğ‘‘a ğœƒÌ‡ a
2
link inertia

(around the ğ‘§-axis through
its center of massâ€¦)

1
1 a
a
a
a
ğ‘‡ = ğ¼W + ğ‘šğ‘‘ + ğ¼] ğ‘›X ğœƒÌ‡ = ğ¼ğœƒÌ‡
2
2
7

Dynamics of an actuated pendulum (cont)

âˆ’ ğ‘‘ cosğœƒ

ğ‘¦

ğœ] , ğœƒ]
ğ‘¥

ğ‘›X ğœ] , ğœƒ
ğ‘š

ğ‘”[

ğ‘ˆ = ğ‘ˆ[ âˆ’ ğ‘šğ‘”[ ğ‘‘ cos ğœƒ

potential energy

1 a
ğ¿ = ğ‘‡ âˆ’ ğ‘ˆ = ğ¼ ğœƒÌ‡ + ğ‘šğ‘”[ ğ‘‘ cos ğœƒ âˆ’ğ‘ˆ[
2

ğ¹ğ‘¥

ğ‘T = ğ‘™ sin ğœƒ
ğ‘Ì‡T = ğ‘™ cos ğœƒ k ğœƒÌ‡ = ğ½T ğœƒÌ‡

ğœ•ğ¿
= ğ¼ ğœƒÌ‡
ğœ• ğœƒÌ‡

ğ‘‘ ğœ•ğ¿
= ğ¼ ğœƒÌˆ
ğ‘‘ğ‘¡ ğœ• ğœƒÌ‡

ğœ•ğ¿
= âˆ’ğ‘šğ‘”[ ğ‘‘ sin ğœƒ
ğœ•ğœƒ

ğ‘¢ = ğ‘›X ğœ] âˆ’ ğ‘W ğœƒÌ‡ âˆ’ ğ‘›X ğ‘] ğœƒÌ‡] + ğ½Tm ğ¹T = ğ‘›X ğœ] âˆ’ ğ‘W + ğ‘] ğ‘›Xa ğœƒÌ‡ + ğ‘™ cos ğœƒ ğ¹T
applied or dissipated torques
on motor side are multiplied by ğ‘›X
when moved to the link side
Robotics 2

â€œsumâ€ of
equivalent joint torque non-conservative
torques
due to force ğ¹ğ‘¥ applied to
the tip at point ğ‘ğ‘¥
8

Dynamics of an actuated pendulum (cont)
ğœ] , ğœƒ]

dynamic model in ğ‘ = ğœƒ
ğ‘›X ğœ] , ğœƒ

ğ¼ ğœƒÌˆ + ğ‘šğ‘”[ ğ‘‘ sin ğœƒ = ğ‘›X ğœ] âˆ’ ğ‘W + ğ‘] ğ‘›Xa ğœƒÌ‡ + ğ‘™ cos ğœƒ k ğ¹T
dividing by ğ‘›X and substituting ğœƒ = ğœƒ] /ğ‘›X

ğ¼

Ìˆ] +
ğœƒ
a

ğ‘›X

ğ‘š
ğœƒ]
ğ‘W
ğ‘™
ğœƒ]
Ì‡
ğ‘”[ ğ‘‘ sin
= ğœ] âˆ’ a + ğ‘] ğœƒ] + cos
k ğ¹T
ğ‘›X
ğ‘›X
ğ‘›X
ğ‘›X
ğ‘›X

dynamic model in ğ‘ = ğœƒ]
Robotics 2

9

Kinetic energy of a rigid body
ğ’—ğ’„ body ğµ
ğ

mass ğ‘š = p ğœŒ ğ‘¥, ğ‘¦, ğ‘§ ğ‘‘ğ‘¥ğ‘‘ğ‘¦ğ‘‘ğ‘§ = p ğ‘‘ğ‘š
q

RFc

RF0

q

1
position of
ğ‘Ÿ9 = p ğ‘Ÿ ğ‘‘ğ‘š
ğ‘š q
center of mass (CoM)
when all vectors are referred to a body frame
RFc attached to the CoM, then

ğ‘Ÿ9

ğ‘Ÿ9 = 0
kinetic energy
(fundamental)
kinematic relation
for a rigid body

Robotics 2

mass density

â‡’ p ğ‘Ÿ ğ‘‘ğ‘š = 0
q

1
ğ‘‡ = p ğ‘£ m ğ‘¥, ğ‘¦, ğ‘§ ğ‘£(ğ‘¥, ğ‘¦, ğ‘§) ğ‘‘ğ‘š
2 q
ğ‘£ = ğ‘£9 + ğœ” Ã— ğ‘Ÿ = ğ‘£9 + ğ‘†(ğœ”) ğ‘Ÿ
skew-symmetric matrix
10

Kinetic energy of a rigid body (cont)
1
ğ‘‡ = p ğ‘£9 + ğ‘† ğœ” ğ‘Ÿ
2 q

m

ğ‘£9 + ğ‘† ğœ” ğ‘Ÿ ğ‘‘ğ‘š

<

<

= a âˆ«q ğ‘£9m ğ‘£9 ğ‘‘ğ‘š + âˆ«q ğ‘£9m ğ‘† ğœ” ğ‘Ÿ ğ‘‘ğ‘š + a âˆ«q ğ‘Ÿ m ğ‘† m ğœ” ğ‘† ğœ” ğ‘Ÿ ğ‘‘ğ‘š

sum of elements
on the diagonal
of a matrix

ğ‘m ğ‘ = ğ‘¡ğ‘Ÿğ‘ğ‘ğ‘’{ğ‘ğ‘m }

1
= ğ‘š ğ‘£9m ğ‘£9
2
translational
kinetic energy
(point mass
at CoM)

KÃ¶nig theorem

= ğ‘£9m ğ‘† ğœ” p ğ‘Ÿğ‘‘ğ‘š = 0
q

+

rotational
kinetic energy
(of the whole body)

1
= p ğ‘¡ğ‘Ÿğ‘ğ‘ğ‘’ ğ‘† ğœ” ğ‘Ÿ ğ‘Ÿ m ğ‘† m ğœ” ğ‘‘ğ‘š
2 q
1
= ğ‘¡ğ‘Ÿğ‘ğ‘ğ‘’ ğ‘† ğœ” p ğ‘Ÿ ğ‘Ÿ m ğ‘‘ğ‘š ğ‘† m ğœ”
2
q
1
= ğ‘¡ğ‘Ÿğ‘ğ‘ğ‘’ ğ‘† ğœ” ğ½9 ğ‘† m ğœ”
2

1 m
= ğœ” ğ¼9 ğœ”
2

body inertia matrix
(around the CoM)
Robotics 2

Euler matrix

Homework #1:
provide the expressions
of the elements of Euler matrix ğ½ğ‘
Homework #2:
prove last equality and provide
the expressions of the elements
of inertia matrix ğ¼ğ‘

11

Examples of body inertia matrices
homogeneous bodies of mass ğ‘š , with axes of symmetry
parallelepiped with sides
ğ‘ (length/height), ğ‘ and ğ‘ (base)

y
ğ‘

ğ‘

x

ğ‘

ğ¼TT
ğ¼9 =

<
ğ‘š
<a

ğ¼â€¢â€¢
ğ¼â‚¬â‚¬

z

ğ‘a + ğ‘ a
<

ğ‘

x

<
ğ‘š
a

ğ¼9 =

ğ‘a + ğ‘ a
<
ğ‘š
<a

ğ‘

z

Æ’
ğ¼â‚¬â‚¬

Steiner theorem
ğ¼ = ğ¼9 + ğ‘š

ğ‘š ğ‘a + ğ‘ a

empty cylinder with length â„,
and external/internal radius ğ‘ and ğ‘

â„

ğ‘Ÿm ğ‘Ÿ

k ğ¸â€¦Ã—â€¦ âˆ’

body inertia matrix
relative to the CoM

Robotics 2

<
ğ‘š
<a

<a

y

zâ€™

=

ğ‘a + ğ‘ a

ğ‘Ÿğ‘Ÿ m

â„
= ğ¼â‚¬â‚¬ + ğ‘š
2

= ğ¼9 + ğ‘š

identity
matrix

ğ‘†m

ğ¼â‚¬â‚¬ = ğ¼â€¢â€¢

3 ğ‘ a + ğ‘ a + â„a
ğ¼â‚¬â‚¬
a

ğ‘Ÿ ğ‘† ğ‘Ÿ

Homework #3:
prove the last equality

(parallel) axis translation theorem
â€¦ its generalization:
changes on body inertia matrix
due to a pure translation ğ‘Ÿ of
the reference frame
12

Robot kinetic energy
>

ğ‘‡ = â€¡ ğ‘‡R

ğ‘ rigid bodies (+ fixed base)

RË†<

ğ‘‡R = ğ‘‡R (ğ‘â€° , ğ‘Ì‡ â€° ; ğ‘— â‰¤ ğ‘–)
ğ’—ğ’„ğ’Š
ğğ’Š

open kinematic chain
KÃ¶nig theorem
1
1 m
m
ğ‘‡R = ğ‘šR ğ‘£9R ğ‘£9R + ğœ”R ğ¼9R ğœ”R
2
2

RFci
i-th link (body)
of the robot
Robotics 2

absolute velocity
of the center of mass
(CoM)

absolute
angular velocity
of whole body
13

Kinetic energy of a robot link
1
1 m
m
ğ‘‡R = ğ‘šR ğ‘£9R ğ‘£9R + ğœ”R ğ¼9R ğœ”R
2
2
ğœ”ğ‘– , ğ¼ğ‘ğ‘– should be expressed in the same reference frame,
but the product ğœ”ğ‘–ğ‘‡ğ¼ğ‘ğ‘–ğœ”ğ‘– is invariant w.r.t. any chosen frame
in frame RFci attached to (the center of mass of) link ğ‘–
p ğ‘¦ a + ğ‘§ a ğ‘‘ğ‘š
R

ğ¼9R =

constant!
Robotics 2

ğ‘ ğ‘¦ğ‘šğ‘š

âˆ’ p ğ‘¥ğ‘¦ ğ‘‘ğ‘š

âˆ’ p ğ‘¥ğ‘§ ğ‘‘ğ‘š

p ğ‘¥ a + ğ‘§ a ğ‘‘ğ‘š

âˆ’ p ğ‘¦ğ‘§ ğ‘‘ğ‘š
p ğ‘¥ a + ğ‘¦ a ğ‘‘ğ‘š
14

Dependence of ğ‘‡ from ğ‘ and ğ‘Ì‡
ğ’—ğ’„ğ’Š

ğğ’Š
link ğ‘– âˆ’ 1

ğ‘ğ‘

link 1

ğ‘1

ğ‘2

ğ‘Râ€¹<

ğ‘£9R = ğ½â€¢R ğ‘ ğ‘Ì‡ =

link ğ’Š

1

â‹®

ğ‘–

0
0
0

ğ‘–

0
0
0

typically expressed in RF0

Robotics 2

link ğ‘

ğ‘ğ‘–

(partial) Jacobians

ğœ”R = ğ½Å½R ğ‘ ğ‘Ì‡ =

ğ‘RÅ’<

1

â‹®

â‹®

0
0 ğ‘Ì‡ 3 rows
0

â‹®

0
0 ğ‘Ì‡ 3 rows
0
15

Final expression of ğ‘‡
>

1
m
ğ‘‡ = â€¡ ğ‘šR ğ‘£9R
ğ‘£9R + ğœ”Rm ğ¼9R ğœ”R
2
RË†<

NOTE 1:
in practice, NEVER
use this formula
(or partial Jacobians)
for computing ğ‘‡
âŸ¹ a better method
is available...
NOTE 2:
I used previously
the notation ğµ(ğ‘)
for the robot
inertia matrix ...
(see past exams!)
Robotics 2

>

1 m
m
m
= ğ‘Ì‡ â€¡ ğ‘šR ğ½â€¢R
(ğ‘)ğ½â€¢R (ğ‘) + ğ½Å½R
ğ‘ ğ¼9R ğ½Å½R (ğ‘) ğ‘Ì‡
2
RË†<

1 m
ğ‘‡ = ğ‘Ì‡ ğ‘€(ğ‘)ğ‘Ì‡
2

constant if ğœ”R is
expressed in RFci
else
[

ğ¼9R ğ‘ = [ğ‘…R ğ‘

R

ğ¼9R [ğ‘…Rm (ğ‘)

robot (generalized) inertia matrix
Â§ symmetric
Â§ positive definite, âˆ€ğ‘ â‡’ always invertible
16

Robot potential energy
assumption: GRAVITY contribution only
>

ğ‘ˆ = â€¡ ğ‘ˆR
RË†<

ğ‘ˆR = ğ‘ˆR (ğ‘â€° ; ğ‘— â‰¤ ğ‘–)

ğ‘ rigid bodies (+ fixed base)
open kinematic chain

ğ‘ˆR = âˆ’ğ‘šR ğ‘”m ğ‘Ÿ[,9R
gravity acceleration
position of the
vector
center of mass of link ğ‘–

dependence on ğ‘
ğ‘Ÿ[,9R
ğ‘ŸR,9R
[
<
Râ€¹<
= ğ´< (ğ‘< ) ğ´a (ğ‘a ) â‹¯ ğ´R (ğ‘R )
1
1

typically
expressed
in RF0
constant
in RFi

NOTE: need to work with homogeneous coordinates
Robotics 2

17

Summarizing ...
kinetic
energy

1 m
1
ğ‘‡ = ğ‘Ì‡ ğ‘€ ğ‘ ğ‘Ì‡ = â€¡ ğ‘šRâ€° (ğ‘)ğ‘Ì‡ R ğ‘Ì‡ â€°
2
2

potential
energy

ğ‘ˆ = ğ‘ˆ(ğ‘)

Lagrangian
Euler-Lagrange
equations

R,â€°

positive definite
quadratic form

ğ‘‡ â‰¥ 0,
ğ‘‡=0
ğ‘Ì‡ = 0

ğ¿ = ğ‘‡ ğ‘, ğ‘Ì‡ âˆ’ ğ‘ˆ(ğ‘)
ğ‘‘ ğœ•ğ¿
ğœ•ğ¿
âˆ’
= ğ‘¢?
ğ‘‘ğ‘¡ ğœ• ğ‘Ì‡ ? ğœ•ğ‘?

ğ‘˜ = 1, â€¦ , ğ‘

non-conservative (active/dissipative)
generalized forces performing work on ğ‘? coordinate
Robotics 2

18

Applying Euler-Lagrange equations
(the scalar derivation â¯ see Appendix for vector format)

1
ğ¿(ğ‘, ğ‘)
Ì‡ = â€¡ ğ‘šRâ€° ğ‘ ğ‘Ì‡ R ğ‘Ì‡ â€° âˆ’ ğ‘ˆ(ğ‘)
2
R,â€°

ğœ•ğ¿
= â€¡ ğ‘š?â€° ğ‘Ì‡ â€°
ğœ• ğ‘Ì‡ ?
â€°

(dependences of
elements on ğ‘
are not shown)

ğœ•ğ‘š?â€°
ğ‘‘ ğœ•ğ¿
= â€¡ ğ‘š?â€° ğ‘Ìˆ â€° + â€¡
ğ‘Ì‡ R ğ‘Ì‡ â€°
ğ‘‘ğ‘¡ ğœ• ğ‘Ì‡ ?
ğœ•ğ‘R
â€°

R,â€°

ğœ•ğ‘šRâ€°
ğœ•ğ¿
1
ğœ•ğ‘ˆ
= â€¡
ğ‘Ì‡ R ğ‘Ì‡ â€° âˆ’
ğœ•ğ‘? 2
ğœ•ğ‘?
ğœ•ğ‘?
R,â€°

LINEAR terms in ACCELERATION ğ‘Ìˆ
QUADRATIC terms in VELOCITY ğ‘Ì‡
NONLINEAR terms in CONFIGURATION ğ‘
Robotics 2

19

ğ‘˜ -th dynamic equation ...
ğ‘‘ ğœ•ğ¿
ğœ•ğ¿
âˆ’
= ğ‘¢?
ğ‘‘ğ‘¡ ğœ•ğ‘Ì‡ ? ğœ•ğ‘?

ğœ•ğ‘š?â€° 1 ğœ•ğ‘šRâ€°
ğœ•ğ‘ˆ
â€¡ ğ‘š?â€° ğ‘Ìˆ â€° + â€¡
âˆ’
ğ‘Ì‡ R ğ‘Ì‡ â€° +
= ğ‘¢?
ğœ•ğ‘R
2 ğœ•ğ‘?
ğœ•ğ‘?
â€°

R,â€°

exchanging
â€œmuteâ€ indices ğ‘–, ğ‘—

1 ğœ•ğ‘š?â€° ğœ•ğ‘š?R ğœ•ğ‘šRâ€°
â‹¯+ â€¡
+
âˆ’
ğ‘Ì‡ R ğ‘Ì‡ â€° + â‹¯
2 ğœ•ğ‘R
ğœ•ğ‘â€°
ğœ•ğ‘?
R,â€°

ğ‘?Râ€° = ğ‘?â€°R Christoffel symbols
of the first kind

Robotics 2

20

â€¦ and interpretation of dynamic terms
â€¡ ğ‘š?â€° (ğ‘)ğ‘Ìˆ â€° + â€¡ ğ‘?Râ€°
â€°

INERTIAL
terms

R,â€°

ğœ•ğ‘ˆ
ğ‘ ğ‘Ì‡ R ğ‘Ì‡ â€° +
= ğ‘¢?
ğœ•ğ‘?

CENTRIFUGAL (ğ‘– = ğ‘—)
and CORIOLIS (ğ‘– â‰  ğ‘—) terms

ğ‘˜ = 1, â€¦ , ğ‘

GRAVITY
terms ğ‘”? (ğ‘)

ğ‘š?? (ğ‘) = inertia at joint ğ‘˜ when joint ğ‘˜ accelerates (ğ‘š?? > 0!!)
ğ‘š?â€° (ğ‘) = inertia â€œseenâ€ at joint ğ‘˜ when joint ğ‘— accelerates
ğ‘?RR (ğ‘) = coefficient of the centrifugal force at joint ğ‘˜ when
joint ğ‘– is moving (ğ‘RRR = 0, âˆ€ğ‘– )
ğ‘?Râ€° ğ‘ = coefficient of the Coriolis force at joint ğ‘˜ when
joint ğ‘– and joint ğ‘— are both moving
Robotics 2

21

Robot dynamic model
in vector formats

1.

ğ‘€ ğ‘ ğ‘Ìˆ + ğ‘ ğ‘, ğ‘Ì‡ + ğ‘” ğ‘ = ğ‘¢

ğ‘˜ -th column
of matrix ğ‘€(ğ‘)

2.

NOTE:
the model
is in the form

ğ›· ğ‘, ğ‘,Ì‡ ğ‘Ìˆ = ğ‘¢
as expected
Robotics 2

ğ‘˜ -th component
of vector ğ‘

ğ‘? ğ‘, ğ‘Ì‡ = ğ‘Ì‡ m ğ¶? (ğ‘)ğ‘Ì‡
1 ğœ•ğ‘€?
ğœ•ğ‘€?
ğ¶? (ğ‘) =
+
2 ğœ•ğ‘
ğœ•ğ‘

m

ğœ•ğ‘€
âˆ’
ğœ•ğ‘?

symmetric
matrix!

ğ‘€ ğ‘ ğ‘Ìˆ + ğ‘† ğ‘, ğ‘Ì‡ ğ‘Ì‡ + ğ‘” ğ‘ = ğ‘¢
NOT a
symmetric
matrix
in general

ğ‘ ?â€° ğ‘, ğ‘Ì‡ = â€¡ ğ‘?Râ€° ğ‘ ğ‘Ì‡ R
R

factorization of ğ‘
by ğ‘† is not unique!
22

Dynamic model of a PR robot
ğ‘‡ = ğ‘‡< + ğ‘‡a

ğ‘¦
ğ‘‘9a

ğ‘ğ‘2

ğ‘‘ğ‘1

ğ‘2

ğ‘9<

ğ‘1

ğ‘9a

ğ‘< + ğ‘‘9a cos ğ‘a
=
ğ‘‘9a sin ğ‘a
0

ğ‘‡a =
Robotics 2

<

ğ‘ša ğ‘Ì‡ <a
a

ğ‘£9a

+

a
ğ‘‘9a

(on horizontal plane)

ğ‘< âˆ’ ğ‘‘9<
=
0
0

ğ‘£9<

a

m
= ğ‘Ì‡9<
ğ‘Ì‡9< = ğ‘Ì‡ <a

1
ğ‘‡< = ğ‘š< ğ‘Ì‡ <a
2
1
1 m
m
ğ‘‡a = ğ‘ša ğ‘£9a ğ‘£9a + ğœ”a ğ¼9a ğœ”a
2
2

ğ‘¥

ğ‘ğ‘1

ğ‘ˆ = constant â‡’ ğ‘”(ğ‘) â‰¡ 0

ğ‘Ì‡ aa

0
ğœ”a = 0
ğ‘Ì‡ a

ğ‘Ì‡ < âˆ’ ğ‘‘9a sin ğ‘a ğ‘Ì‡ a
=
ğ‘‘9a cos ğ‘a ğ‘Ì‡ a
0
<

âˆ’ 2ğ‘‘9a sin ğ‘a ğ‘Ì‡ < ğ‘Ì‡ a + ğ¼9a,â‚¬â‚¬ ğ‘Ì‡ aa
a

23

Dynamic model of a PR robot (cont)
ğ‘š< + ğ‘ša
ğ‘€ ğ‘ =
âˆ’ğ‘ša ğ‘‘9a sin ğ‘a

âˆ’ğ‘ša ğ‘‘9a sin ğ‘a
a
ğ¼9a,â‚¬â‚¬ + ğ‘ša ğ‘‘9a

ğ‘€<

1 ğœ•ğ‘€?
ğœ•ğ‘€?
where ğ¶? (ğ‘) =
+
2 ğœ•ğ‘
ğœ•ğ‘

m

ğ‘€a

ğ‘< ğ‘, ğ‘Ì‡
ğ‘ ğ‘, ğ‘Ì‡ =
ğ‘a ğ‘, ğ‘Ì‡
ğ‘? ğ‘, ğ‘Ì‡ = ğ‘Ì‡ m ğ¶? (ğ‘)ğ‘Ì‡

ğœ•ğ‘€
âˆ’
ğœ•ğ‘?

1
ğ¶< ğ‘ =
2

0
0

1
ğ¶a ğ‘ =
2

ğ‘< ğ‘, ğ‘Ì‡ = âˆ’ğ‘ša ğ‘‘9a cos ğ‘a ğ‘Ì‡ aa
0
0
0 âˆ’ğ‘ša ğ‘‘9a cos ğ‘a
+
âˆ’ğ‘ša ğ‘‘9a cos ğ‘a 0
0
0
=0
0
âˆ’ğ‘ša ğ‘‘9a cos ğ‘a
âˆ’
âˆ’ğ‘ša ğ‘‘9a cos ğ‘a
0
ğ‘a ğ‘, ğ‘Ì‡ = 0

Robotics 2

0
âˆ’ğ‘ša ğ‘‘9a cos ğ‘a

0
+
0

0
âˆ’ğ‘ša ğ‘‘9a cos ğ‘a

âˆ’

0
0

0
0

24

Dynamic model of a PR robot (cont)

ğ‘€ ğ‘ ğ‘Ìˆ + ğ‘ ğ‘, ğ‘Ì‡ = ğ‘¢
ğ‘š< + ğ‘ša
âˆ’ğ‘ša ğ‘‘9a sin ğ‘a

âˆ’ğ‘ša ğ‘‘9a sin ğ‘a
a
ğ¼9a,â‚¬â‚¬ + ğ‘ša ğ‘‘9a

a
ğ‘¢<
ğ‘Ìˆ <
âˆ’ğ‘š
ğ‘‘
cos
ğ‘
ğ‘
Ì‡
a
9a
a
a
+
= ğ‘¢
ğ‘Ìˆ a
a
0

NOTE: the ğ‘š>> element (here, for ğ‘ = 2) of ğ‘€(ğ‘) is always constant!
Q1: why does variable ğ‘< not appear in ğ‘€(ğ‘)? â€¦ this is a general property!
Q2: why Coriolis terms are not present?
Q3: when applying a force ğ‘¢< , does the second joint accelerate? â€¦ always?
Q4: what is the expression of a factorization matrix ğ‘† ? â€¦ is it unique here?
Q5: which is the configuration with â€œmaximum inertiaâ€?
Robotics 2

25

A structural property
Matrix ğ‘€Ì‡ âˆ’ 2ğ‘† is skew-symmetric

(when using Christoffel symbols to define matrix ğ‘† )

Proof
ğ‘šÌ‡ ?â€°

ğœ•ğ‘š?â€°
=â€¡
ğ‘Ì‡ R
ğœ•ğ‘R

2ğ‘ ?â€°

R

ğ‘šÌ‡ ?â€° âˆ’ 2ğ‘ ?â€°

ğœ•ğ‘š?â€° ğœ•ğ‘š?R ğœ•ğ‘šRâ€°
= â€¡ 2ğ‘?Râ€° ğ‘Ì‡ R = â€¡
+
âˆ’
ğ‘Ì‡ R
ğœ•ğ‘R
ğœ•ğ‘â€°
ğœ•ğ‘?
R

R

ğœ•ğ‘šRâ€° ğœ•ğ‘š?R
=â€¡
âˆ’
ğ‘Ì‡ R = ğ‘›?â€°
ğœ•ğ‘?
ğœ•ğ‘â€°
R

ğ‘›â€°? = ğ‘šÌ‡ â€°? âˆ’ 2ğ‘ â€°?

ğœ•ğ‘šR? ğœ•ğ‘šâ€°R
=â€¡
âˆ’
ğ‘Ì‡ R = âˆ’ğ‘›?â€°
ğœ•ğ‘â€°
ğœ•ğ‘?
R

using the
symmetry of ğ‘€

ğ‘¥ m ğ‘€Ì‡ âˆ’ 2ğ‘† ğ‘¥ = 0, âˆ€ğ‘¥
Robotics 2

26

Energy conservation
n

n

n

total robot energy

1 m
ğ¸ = ğ‘‡ + ğ‘ˆ = ğ‘Ì‡ ğ‘€ ğ‘ ğ‘Ì‡ + ğ‘ˆ(ğ‘)
2
its evolution over time (using the dynamic model)
1 m
ğœ•ğ‘ˆ
m
Ì‡
Ì‡
ğ¸ = ğ‘Ì‡ ğ‘€ ğ‘ ğ‘Ìˆ + ğ‘Ì‡ ğ‘€ ğ‘ ğ‘Ì‡ +
ğ‘Ì‡
2
ğœ•ğ‘
here, any
factorization
1 m
m
m
of vector ğ‘
= ğ‘Ì‡ ğ‘¢ âˆ’ ğ‘† ğ‘, ğ‘Ì‡ ğ‘Ì‡ âˆ’ ğ‘”(ğ‘) + ğ‘Ì‡ ğ‘€Ì‡ ğ‘ ğ‘Ì‡ + ğ‘Ì‡ ğ‘”(ğ‘)
2
by a matrix ğ‘†
can be used
1 m
m
Ì‡
= ğ‘Ì‡ ğ‘¢ + ğ‘Ì‡ ğ‘€ ğ‘ âˆ’ 2ğ‘† ğ‘, ğ‘Ì‡ ğ‘Ì‡
2
if ğ‘¢ â‰¡ 0, total energy is constant (no dissipation or increase)
ğ¸Ì‡ = 0

Robotics 2

ğ‘Ì‡ m ğ‘€Ì‡ ğ‘ âˆ’ 2ğ‘† ğ‘, ğ‘Ì‡

ğ‘Ì‡ = 0, âˆ€ğ‘, ğ‘Ì‡

weaker property than skew-symmetry, as
the external vector in the quadratic form
is the same velocity ğ‘Ì‡ that appears also
inside the two internal matrices ğ‘€Ì‡ also ğ‘†

ğ¸Ì‡ = ğ‘Ì‡ m ğ‘¢
in general, the variation
of the total energy is
equal to the work of
non-conservative forces
27

Appendix
dynamic model: alternative vector format derivation
ğ‘‘ ğœ•ğ¿
ğ‘‘ğ‘¡ ğœ• ğ‘Ì‡

m

ğœ•ğ¿
âˆ’
ğœ•ğ‘

ğ‘€(ğ‘) = ğ‘€< (ğ‘)
ğœ•ğ¿
ğœ•ğ‘Ì‡

ğœ•ğ¿
ğœ•ğ‘

m

1 m
ğ¿ = ğ‘Ì‡ ğ‘€ ğ‘ ğ‘Ì‡ âˆ’ ğ‘ˆ(ğ‘)
2

=ğ‘¢

>

â‹¯

ğ‘€R (ğ‘)

â‹¯

ğ‘€> (ğ‘) = â€¡ ğ‘€R (ğ‘)ğ‘’Rm

= ğ‘Ì‡ m ğ‘€(ğ‘)

m

dyadic expansion

= ğ‘€ ğ‘ ğ‘Ì‡

ğ‘‘ ğœ•ğ¿
ğ‘‘ğ‘¡ ğœ•ğ‘Ì‡

m

>

= ğ‘€ ğ‘ ğ‘Ìˆ + ğ‘€Ì‡ ğ‘ ğ‘Ì‡ = ğ‘€ ğ‘ ğ‘Ìˆ + â€¡

>

1 m
ğœ•ğ‘€R (ğ‘) m
ğœ•ğ‘ˆ(ğ‘)
=
ğ‘Ì‡ â€¡
ğ‘’R ğ‘Ì‡ âˆ’
2
ğœ•ğ‘
ğœ•ğ‘
RË†<

this construction
gives to ğ‘€Ì‡ âˆ’ 2ğ‘†
skew-symmetry

Robotics 2

ğ‘–-th
position

RË†<

m

m

0 â‹¯ 1 â‹¯ 0

m

>

1
= â€¡
2
ğœ•ğ‘

>

RË†<

ğœ•ğ‘€R 1 ğœ•ğ‘€R
ğ‘€ ğ‘ ğ‘Ìˆ + â€¡
âˆ’
ğœ•ğ‘
2 ğœ•ğ‘

ğ‘˜-th row of matrix ğ‘†
ğ‘†?m ğ‘, ğ‘Ì‡ = ğ‘Ì‡ m ğ¶? (ğ‘)

RË†<
ğœ•ğ‘€R m

RË†<

ğ‘†(ğ‘, ğ‘)
Ì‡

m

ğ‘Ì‡ R

ğœ•ğ‘€R
ğ‘Ì‡ ğ‘Ì‡ R
ğœ•ğ‘
ğœ•ğ‘ˆ
ğ‘Ì‡ R ğ‘Ì‡ âˆ’
ğœ•ğ‘

ğœ•ğ‘ˆ
ğ‘Ì‡ +
ğœ•ğ‘

m

m

ğ‘”(ğ‘)

=ğ‘¢

28

