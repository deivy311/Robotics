Robotics 2

Dynamic model of robots:

Algorithm for computing kinetic energy
Prof. Alessandro De Luca

Complexity of robot inertia terms
element ğ‘š11(ğ‘) of Stanford arm

ğ‘=

ğœƒ(
ğœƒ)
ğ‘‘+
ğœƒ,
ğœƒğœƒ.

m(( =

â€¦ (derived by hand) in JPL
Tech. Memo. 33-669, 1974

3R spherical wrist

a typical term â€¦

sin ğœƒ) sin ğœƒ- âˆ’ cos ğœƒ) sin ğœƒ, cos ğœƒ-

)
radius of gyration factors ğ‘˜789
are being used here
for a body of mass ğ‘š and moment of inertia ğ¼ w.r.t. an axis,
the radius of gyration ğ‘˜ is the distance of a point mass ğ‘š
from the same axis, such that its moment of inertia is ğ¼

Robotics 2

2

Expression of ğ‘£ğ‘ğ‘– and ğœ”ğ‘–
n

n

ğ‘£?7 and ğœ”7 can be written using the relations of the robot
differential kinematics (partial Jacobians)
it is useful however to operate in a recursive way, expressing
each vector quantity related to link ğ‘– in the â€œmovingâ€ frame RFğ‘–
attached to link ğ‘– (with the notation ğ’Švectorğ’Š )
n

particularly convenient when using algebraic/symbolic manipulation
languages (Matlab Symbolic Toolbox, Maple, Mathematica, â€¦) for
computing the kinetic energy of a (open chain) robot arm, when the
number of joints increases (e.g., for ğ‘ â‰¥ 4)

Moving Frames
Robotics 2

3

Recall: D-H frames
joint ğ‘– âˆ’ 1 axis

link ğ‘– âˆ’ 1

joint ğ‘– axis

joint ğ‘– + 1 axis

ğğ’Š
link ğ‘–

ğ’—ğ’„ğ’Š

ğ’“ğ’„ğ’Š

ğ‘‘ğ‘– ğ‘§7D(
ğ‘¥7D(
ğ‘‚7D(

7D(

ğ´7 ğ‘7 =

Robotics 2

cos ğœƒ7
sin ğœƒ7
0
0

ğ‘ğ‘–
ğœƒğ‘–

ğ’“ğ’ŠDğŸ,ğ’Š

ğ‘§ğ‘–

ğ›¼ğ‘–

ğ’—ğ’Š

ğ‘‚ğ‘– ğ‘¥ğ‘–

7D(

ğ‘…7 ğ‘7
âˆ’ cos ğ›¼7 sin ğœƒ7
sin ğ›¼7 sin ğœƒ7
cos ğ›¼7 cos ğœƒ7 âˆ’ sin ğ›¼7 cos ğœƒ7
sin ğ›¼7
cos ğ›¼7
0
0

ğ‘7 cos ğœƒ7
ğ‘7 sin ğœƒ7
ğ‘‘7
1
4

Moving Frames algorithm
velocity of
center of mass
of link ğ‘–

ğ‘£?7 = ğ‘£7 + ğœ”7 Ã— ğ‘Ÿ?7
velocity of ğ‘‚7
(origin of RFğ‘– )

ğœ”7 =

7D( W
ğ‘…7

ğ‘7

angular velocity
of link ğ‘–
0 revolute joint

set ğœ7 =
7

position of
center of mass
of link ğ‘– w.r.t. ğ‘‚7

1 prismatic joint

7D(

ğœ”7D( + 1 âˆ’ ğœ7 ğ‘Ì‡ 7

7D(

ğ‘§7D( =

7D( W
ğ‘…7

ğ‘7

7D(

ğœ”7

ğ‘§-axis of RFi-1
7

ğ‘£7 =

7D( W
ğ‘…7

ğ‘7

7D(

ğ‘£7D( + ğœ7 ğ‘Ì‡ 7

â€¦ = 7 ğœ”7 already computed
Robotics 2

7D(

ğ‘§7D( + 7D(ğœ”7 Ã— 7D(ğ‘Ÿ7D(,7

0
0
1

7

â€¦ = ğ‘Ÿ7D(,7 (constant,
if joint ğ‘– is revolute!)

5

Dynamic model of a 2R robot
application of the algorithm

ğ‘¦)
ğ‘¦(

âˆ’ğ‘™

ğ‘¦[
ğ‘‘(

+
âˆ’ğ‘™ (

ğ‘¥)
)

+

ğ‘‘)

ğ‘)

ğ‘‘(

ğ‘(
ğ‘¥[

ğ‘¥(

ğ‘‘)

ğœğ‘– = 0,
0
ğ‘” = âˆ’ğ‘”[
0
ğ‘”[ = 9.81

ğ‘7
7D(
ğ‘…7 (ğ‘7 ) = ğ‘ 7
0

âˆ’ğ‘ 7
ğ‘7
0

0
0
1

ğ‘– = 1,2
(revolute joints)

moving in the
vertical plane

âˆ’ğ‘™7 + ğ‘‘7
7
ğ‘Ÿ?7 =
0
0

assumption: center of mass of
each link is on its kinematic axis

initialization: ğ‘– = 0
Robotics 2

[

ğœ”[ = 0

[

ğ‘£[ = 0
6

First step (link 1)
(

ğœ”( = [ğ‘…(W ğ‘(

ğ‘–=1

0
ğ‘™(ğ‘(
[
ğ‘£[ + 0 Ã— ğ‘™(ğ‘ (
ğ‘Ì‡ (
0

(

ğ‘£( = [ğ‘…(W ğ‘(

[

ğœ”[ + ğ‘Ì‡ (

0
0
1

0
= 0
ğ‘Ì‡ (

0
ğ‘™(ğ‘(
= [ğ‘…(W (ğ‘() 0 Ã— [ğ‘…(W (ğ‘() ğ‘™(ğ‘ (
ğ‘Ì‡ (
0

0
ğ‘™(
0
= 0 Ã— 0 = ğ‘™(ğ‘Ì‡ (
ğ‘Ì‡ (
0
0
(

ğ‘£?(

Robotics 2

0
0
0
âˆ’ğ‘™( + ğ‘‘(
= ğ‘™(ğ‘Ì‡ ( + 0 Ã—
= ğ‘‘(ğ‘Ì‡ (
0
ğ‘Ì‡ (
0
0
0
7

Kinetic energy of link 1
0
(
ğœ”( = 0
ğ‘Ì‡ (

(

ğ‘£?(

0
= ğ‘‘( ğ‘Ì‡ (
0

1
1
1
) )
)
ğ‘‡( = ğ‘š( ğ‘‘( ğ‘Ì‡ ( + ğ¼?(,dd ğ‘Ì‡ ( = ğ¼?(,dd + ğ‘š( ğ‘‘() ğ‘Ì‡ ()
2
2
2
the actual inertia around the rotation axis
of the first joint (parallel axis theorem)
Robotics 2

8

Second step (link 2)
ğ‘–=2

)

ğ‘£) = (ğ‘…)W ğ‘)

)

ğœ”) = (ğ‘…)W ğ‘)

(

ğœ”( + ğ‘Ì‡ )

0
ğ‘™)ğ‘)
(
0
ğ‘£( +
Ã— ğ‘™)ğ‘ )
ğ‘Ì‡ ( + ğ‘Ì‡ )
0

0
0
1

0
0
=
ğ‘Ì‡ ( + ğ‘Ì‡ )

0
ğ‘™(ğ‘ )ğ‘Ì‡ (
ğ‘™)
0
= ğ‘™(ğ‘)ğ‘Ì‡ ( +
Ã— 0
ğ‘Ì‡ ( + ğ‘Ì‡ )
0
0

ğ‘™(ğ‘ )ğ‘Ì‡ (
= ğ‘™(ğ‘)ğ‘Ì‡ ( + ğ‘™) ğ‘Ì‡ ( + ğ‘Ì‡ )
0

Robotics 2

9

Kinetic energy of link 2
ğ‘–=2
)

ğ‘£?)

0
ğ‘™(ğ‘ )ğ‘Ì‡ (
âˆ’ğ‘™) + ğ‘‘)
0
= )ğ‘£) +
Ã—
= ğ‘™(ğ‘)ğ‘Ì‡ ( + ğ‘‘) ğ‘Ì‡ ( + ğ‘Ì‡ )
0
ğ‘Ì‡ ( + ğ‘Ì‡ )
0
0

1
ğ‘‡) = ğ‘š) ğ‘™() ğ‘Ì‡ () + ğ‘‘() ğ‘Ì‡ ( + ğ‘Ì‡ )
2
1
+ ğ¼?),dd ğ‘Ì‡ ( + ğ‘Ì‡ ) )
2
Robotics 2

)

+ 2ğ‘™( ğ‘‘) ğ‘) ğ‘Ì‡ ( ğ‘Ì‡ ( + ğ‘Ì‡ )

10

Robot inertia matrix
1
ğ‘‡ = ğ‘‡( + ğ‘‡) = ğ‘Ì‡ (
2

ğ‘Ì‡ )

W

ğ‘š(( (ğ‘) ğ‘š() (ğ‘)
ğ‘š)( (ğ‘)
ğ‘š))

ğ‘Ì‡ (
ğ‘Ì‡ )

ğ‘š(( ğ‘ = ğ¼?(,dd + ğ‘š( ğ‘‘() + ğ¼?),dd + ğ‘š) ğ‘‘)) + ğ‘š) ğ‘™() + 2ğ‘š) ğ‘™( ğ‘‘) ğ‘)
= ğ‘( + 2ğ‘) cos ğ‘)
ğ‘š() ğ‘ = ğ‘š)( ğ‘ = ğ¼?),dd + ğ‘š) ğ‘‘)) + ğ‘š) ğ‘™( ğ‘‘) ğ‘) = ğ‘+ + ğ‘) cos ğ‘)
ğ‘š)) = ğ¼?),dd + ğ‘š) ğ‘‘)) = ğ‘+
NOTE: introduction of dynamic coefficients ğ‘ğ‘– is a convenient regrouping of the
dynamic parameters (more on this later â†’ linear parametrization of dynamics)
Robotics 2

11

Centrifugal and Coriolis terms
1 ğœ•ğ‘€(
ğœ•ğ‘€(
ğ¶( ğ‘ =
+
2 ğœ•ğ‘
ğœ•ğ‘
0
= âˆ’ğ‘ ğ‘ 
) )

W

ğœ•ğ‘€
1
âˆ’
=
ğœ•ğ‘(
2

âˆ’ğ‘)ğ‘ )
âˆ’ğ‘)ğ‘ )

0 âˆ’2ğ‘)ğ‘ )
0
+
0 âˆ’ğ‘)ğ‘ )
âˆ’2ğ‘)ğ‘ )

0
âˆ’ğ‘)ğ‘ )

ğ‘( ğ‘, ğ‘Ì‡ = âˆ’ğ‘) ğ‘ ) ğ‘Ì‡ )) + 2ğ‘Ì‡ ( ğ‘Ì‡ )

1 ğœ•ğ‘€)
ğœ•ğ‘€)
ğ¶) ğ‘ =
+
2 ğœ•ğ‘
ğœ•ğ‘

W

ğœ•ğ‘€
ğ‘ ğ‘ 
âˆ’
=â‹¯= ) )
0
ğœ•ğ‘)

0
0

ğ‘) ğ‘, ğ‘Ì‡ = ğ‘) ğ‘ ) ğ‘Ì‡ ()
Robotics 2

12

Gravity terms
ğ‘ˆ( = âˆ’ğ‘š( ğ‘”W ğ‘Ÿ[,?( = âˆ’ ğ‘š( 0 âˆ’ğ‘”[

0

âˆ—
ğ‘‘( ğ‘ ( = ğ‘š( ğ‘”[ ğ‘‘( ğ‘ (
âˆ—

ğ‘ˆ) = âˆ’ ğ‘š) ğ‘”W ğ‘Ÿ[,?) = ğ‘š) ğ‘”[ ğ‘™( ğ‘ ( + ğ‘‘) ğ‘ ()
ğ‘ˆ = ğ‘ˆ( + ğ‘ˆ)
W

ğœ•ğ‘ˆ
ğ‘”[ ğ‘š( ğ‘‘( ğ‘( + ğ‘š) ğ‘™( ğ‘( + ğ‘š) ğ‘‘) ğ‘()
ğ‘” ğ‘ =
=
ğ‘”[ ğ‘š) ğ‘‘) ğ‘()
ğœ•ğ‘

Robotics 2

ğ‘, ğ‘( + ğ‘- ğ‘()
=
ğ‘- ğ‘()

13

Dynamic model of a 2R robot
ğ‘( + 2ğ‘) ğ‘) ğ‘Ìˆ ( + ğ‘) ğ‘) + ğ‘+ ğ‘Ìˆ ) âˆ’ ğ‘) ğ‘ ) ğ‘Ì‡ )) + 2ğ‘Ì‡ ( ğ‘Ì‡ )
+ ğ‘, ğ‘( + ğ‘- ğ‘() = ğ‘¢(
ğ‘) ğ‘) + ğ‘+ ğ‘Ìˆ ( + ğ‘+ ğ‘Ìˆ ) + ğ‘) ğ‘ ) ğ‘Ì‡ () + ğ‘- ğ‘() = ğ‘¢)
Q1: is it ğ‘2 = 0 possible? â€¦physical interpretation? â€¦consequences?
Q2: is it ğ‘4 = ğ‘5 = 0 possible as well? â€¦physical interpretation?
Q3: based on the expressions of the dynamic coefficients ğ‘1, ğ‘2, ğ‘3,
check that the robot inertia matrix is always positive definite, and
in particular that the diagonal elements are always positive (âˆ€ğ‘)
Q4: provide two different matrices ğ‘†â€™ and ğ‘†â€™â€™ for the factorization of the
quadratic velocity terms, respectively satisfying and not satisfying
the skew-symmetry of ğ‘€Ì‡ âˆ’ 2ğ‘†
Robotics 2

14

